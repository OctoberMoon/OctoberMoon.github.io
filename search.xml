<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[zsh常用命令]]></title>
    <url>%2F2019%2F05%2F28%2F1%2F</url>
    <content type="text"><![CDATA[zsh常用命令/快捷键 123456789101112131415161718192021222324252627282930313233343536373839404142434445alias ga=&apos;git add&apos;alias gaa=&apos;git add --all&apos;alias gapa=&apos;git add --patch&apos;alias gau=&apos;git add --update&apos;alias gav=&apos;git add --verbose&apos;alias gap=&apos;git apply&apos;alias gb=&apos;git branch&apos;alias gba=&apos;git branch -a&apos;alias gbd=&apos;git branch -d&apos;alias gbda=&apos;git branch --no-color --merged | command grep -vE &quot;^(\*|\s*(master|develop|dev)\s*$)&quot; | command xargs -n 1 git branch -d&apos;alias gbD=&apos;git branch -D&apos;alias gbl=&apos;git blame -b -w&apos;alias gbnm=&apos;git branch --no-merged&apos;alias gbr=&apos;git branch --remote&apos;alias gbs=&apos;git bisect&apos;alias gbsb=&apos;git bisect bad&apos;alias gbsg=&apos;git bisect good&apos;alias gbsr=&apos;git bisect reset&apos;alias gbss=&apos;git bisect start&apos;alias gc=&apos;git commit -v&apos;alias gc!=&apos;git commit -v --amend&apos;alias gcn!=&apos;git commit -v --no-edit --amend&apos;alias gca=&apos;git commit -v -a&apos;alias gca!=&apos;git commit -v -a --amend&apos;alias gcan!=&apos;git commit -v -a --no-edit --amend&apos;alias gcans!=&apos;git commit -v -a -s --no-edit --amend&apos;alias gcam=&apos;git commit -a -m&apos;alias gcsm=&apos;git commit -s -m&apos;alias gcb=&apos;git checkout -b&apos;alias gcf=&apos;git config --list&apos;alias gcl=&apos;git clone --recurse-submodules&apos;alias gclean=&apos;git clean -id&apos;alias gpristine=&apos;git reset --hard &amp;&amp; git clean -dfx&apos;alias gcm=&apos;git checkout master&apos;alias gcd=&apos;git checkout develop&apos;alias gcmsg=&apos;git commit -m&apos;alias gco=&apos;git checkout&apos;alias gcount=&apos;git shortlog -sn&apos;compdef _git gcountalias gcp=&apos;git cherry-pick&apos;alias gcpa=&apos;git cherry-pick --abort&apos;alias gcpc=&apos;git cherry-pick --continue&apos;alias gcs=&apos;git commit -S&apos;]]></content>
      <tags>
        <tag>zsh</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[laravel-admin用法]]></title>
    <url>%2F2019%2F05%2F28%2F1%2F</url>
    <content type="text"><![CDATA[laravel-admin用法 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566671. composer-laravel-镜像 composer config -g repo.packagist composer https://packagist.laravel-china.org 2. 加法 add()、 减法 subtract()、 乘法 multiply()、 除法 divide()3. php artisan ide-helper:models php artisan ide-helper:generate4. //只读 $form-&gt;text(&apos;from_address&apos;, &apos;支付地址&apos;)-&gt;readonly(); //show的使用 通过 as 可以使用模型关联调用数据 $show-&gt;user_id(&apos;用户名&apos;)-&gt;as(function () &#123; return $this-&gt;user-&gt;name; &#125;); //禁用行操作列 $grid-&gt;disableActions(); //禁用分页条 $grid-&gt;disablePagination(); //禁用创建按钮 $grid-&gt;disableCreateButton(); //禁用查询过滤器 $grid-&gt;disableFilter(); //禁用行选择checkbox $grid-&gt;disableRowSelector(); //禁用 $grid-&gt;disableTools(); //禁用导出 $grid-&gt;disableExport(); //设置分页选择器选项 $grid-&gt;perPages([10, 20, 30, 40, 50]); $grid-&gt;actions(function (Grid\Displayers\Actions $actions) &#123; $actions-&gt;disableView(); $actions-&gt;disableEdit(); $actions-&gt;disableDelete(); &#125;); 5. js swal 使用$script = &lt;&lt;&lt;SCRIPT $(&apos;button[type=submit]&apos;).on(&apos;click&apos;,function(e)&#123; event.preventDefault(); swal(&#123; title: &apos;请妥善保存好助记词!&apos;, text: &apos;遗失后不能恢复!&apos;, type: &apos;warning&apos;, showCancelButton: true, confirmButtonColor: &apos;#3085d6&apos;, cancelButtonColor: &apos;#d33&apos;, confirmButtonText: &apos;确认提交&apos;, cancelButtonText: &quot;取消&quot;, &#125;).then(function (isConfirm) &#123; if (isConfirm.value == true )&#123; $(&quot;form&quot;).submit(); &#125;else&#123; event.preventDefault(); return false; &#125; &#125;).catch(swal.noop); &#125;);SCRIPT; Admin::script($script);]]></content>
      <tags>
        <tag>laravel-admin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[高并发优化记录]]></title>
    <url>%2F2019%2F05%2F28%2F1%2F</url>
    <content type="text"><![CDATA[流量优化(目的:可以使用下载工具下载，又可以防止盗链的方法) 序号 优化方法 解决方案 1 防盗链处理 1. 判断引用地址,判断浏览器请求时HTTP头的Referer字段的值 2.使用登录验证 缺点是访客无法匿名下载 3. 使用cookie 缺点: 同 2 4. 使用POST下载 缺点: 无法使用下载工具，更没法实现断点续传 5.使用图形验证码 缺点: 影响用户体验 6. 使用动态文件名 7. 擅改资源的内容 8.打包下载 缺点:需要解压缩 2 图片处理 将多种按钮 提示 图片 合成一张图 3 Js. Css 合并 压缩工具: 在线压缩,YUI Compressor等等 前端优化 序号 优化方法 1 减少HTTP请求 2 异步请求 3 浏览器缓存和文件压缩 4 CDN 加速 5 建立独立的图片服务器 服务端优化 序号 优化方法 1 页面静态化 2 并发处理 3 队列处理 数据库优化 序号 优化方法 1 数据库缓存 redis/Memcache 2 分库分表\分区操作 主从复制 3 读写分离 4 负载均衡 序号 数据库优化方法 1 数据类型优化 按需选择数据类型 1. 整型&gt;datetime 2. 整型&gt;date&gt;time&gt;enum,char&gt;varchar&gt;blob&gt;text 3. 够用就行 大的字段浪费内存,影响速度 4. 避免使用null (不利于索引,要用特殊字节标注,在磁盘上占据空间更大) 2 索引优化(理想索引: 查询频繁,区分度高,长度小,尽可能覆盖常用查询字段 常用方法: 截取不同长度,测试其区分度(0.1 可以接受)) 1. 合适字段创建合适索引(where列上创建索引) 2. 复杂索引的前缀原则 3. like %a% 索引失效 4. 3 SQL语句优化 1. 优化查询过程中的数据访问(按需查询,limit,列名) 2. 优化长难句的查询语句(变复杂为简单,切分查询.分解) 3. 特定查询语句 limit count 子查询 groupby 4 存储引擎优化 行级锁,事务,外键,独立表空间 5 数据表设计优化 分区操作,分库分表 6 数据库架构优化 1.主从复制 2. 读写分离 3. 双主热备 4. 负载均衡 web服务器优化负载均衡 反向代理]]></content>
      <categories>
        <category>高并发</category>
      </categories>
      <tags>
        <tag>高并发</tag>
        <tag>优化</tag>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux服务器使用ssh连接]]></title>
    <url>%2F2019%2F05%2F28%2FLinux%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BD%BF%E7%94%A8ssh%E8%BF%9E%E6%8E%A5%2F</url>
    <content type="text"><![CDATA[刻意练习,每日精进 Linux服务器使用ssh连接参考资料 SSH的工作原理是将客户端程序连接到ssh服务器 Ubuntu(Centors类似 命令有所不同) 123456781.主配置文件于/etc/ssh/sshd_config2.Port 22 端口声明指定sshd服务器将侦听连接的端口 如需更改端口 直接添加后 测试完成 再删除 223.PermitRootLogin 选择是否允许root登录4.LoginGraceTime 指定在未成功登录的情况下保持连接活动的秒数sudo service ssh restart 重启服务sudo systemctl restart ssh 如何使用密钥登录SSH1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556 [root@7S ssh]# systemctl stop firewalld.service //关闭防火墙 [root@7S ssh]# systemctl is-enabled firewalld.service //查看防火墙状态 enabled [root@7S ssh]# firewall-cmd --zone=public --add-port=1212/tcp --permanent 添加 放行端口 1212 FirewallD is not running // 防火墙关闭 [root@7S ssh]# systemctl restart firewalld.service //启动 [root@7S ssh]# firewall-cmd --zone=public --add-port=1212/tcp --permanent //继续添加 success firewall-cmd --zone=public --list-ports //查看所有端口* 创建SSH密钥(本地的计算机上生成SSH密钥)ssh-keygen -t rsa //创建按 Enter 键接受默认值 (Mac)密钥在〜/.ssh/id_rsa.pub和〜/.ssh / id_rsa中 (window 系统不一样 Admin文件名不一样) /C/users/Admin/.ssh/id_rsassh-copy-id root@192.168.100.00 //将公钥复制到远程服务器 输入密码 下次不需要使用密码 即可登录更改 端口 登录ssh -p 1212 root@192.168.100.00 安全考虑 禁用密码验证/etc/ssh/sshd_configPasswordAuthentication no //去掉注释 改为 noPubkeyAuthentication yes // 默认不修改ChallengeResponseAuthentication no // 默认不修改sudo systemctl restart ssh //重启服务 如有错误 关闭SELinux 或者 向SELinux中添加修改的SSH端口(如下)1. 安装semanagesemanage是SELinux的管理工具，是用于向SELinux添加和修改ssh端口号* 安装依赖 yum install policycoreutils-python* 安装semanage yum provides semanage2:使用semanage向SELinux中添加我们刚刚添加的端口号(1212)查询当前 ssh 服务端口: semanage port -l | grep ssh向 SELinux 中添加我们需要添加的ssh端口(1212): semanage port -a -t ssh_port_t -p tcp 1212验证 ssh 端口是否添加成功: semanage port -l | grep ssh重启 ssh 服务: systemctl restart sshd.service第二种方法:1. ssh-copy-id -i ~/.ssh/id_rsa.pub root@192.168.100.000 //将本机的id_rsa.pub公钥文件内容复制到远程目标机的.ssh/authorized_keys文件中2. 本地复制: scp .ssh/id_rsa.pub user@192.168.1.100:/home/root/ 服务器操作: mkdir -p /home/root/.ssh/ mv /home/root/id_rsa.pub /home/root/.ssh/authorized_keys //authorized_keys 必须如此命名 登录即可]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linix</tag>
        <tag>ssh</tag>
      </tags>
  </entry>
</search>
